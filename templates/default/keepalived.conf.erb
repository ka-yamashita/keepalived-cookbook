! Configuration File for keepalived
! Generated by Chef.

global_defs {
  notification_email {
    <% Array(node['keepalived']['global']['notification_emails']).each do |email| %>
    <%= email %>
    <% end %>
  }
  notification_email_from <%= node['keepalived']['global']['notification_email_from'] %>
  smtp_server <%= node['keepalived']['global']['smtp_server'] %>
  smtp_connect_timeout <%= node['keepalived']['global']['smtp_connect_timeout'] %>
  router_id <%= node['keepalived']['global']['router_ids'][node.name] || node['keepalived']['global']['router_id'] %>
}

! Use conf.d style structure
include /etc/keepalived/conf.d/*.conf
